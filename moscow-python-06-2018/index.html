<!DOCTYPE html>
<html lang="en">
<head>
	<title>–ê–ª–≥–æ—Ä–∏—Ç–º Swivel –∏ –µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@kslavnov" />
    <meta name="twitter:label1" content="Number of slides" />
    <meta name="twitter:data1" content="31" />
    <meta name="twitter:label2" content="Where and when" />
    <meta name="twitter:data2" content="Moscow, 26/06/2018" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://zurk.github.io/moscow-python-06-2018" />
    <meta property="og:title" content="–ê–ª–≥–æ—Ä–∏—Ç–º Swivel –∏ –µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è" />
    <meta property="og:description" content="–Ø —Ä–∞—Å—Å–∫–∞–∂—É –≤–∞–º –æ –ø–æ–ø—É–ª—è—Ä–Ω–æ–º –º–µ—Ç–æ–¥–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Å–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ. –¢–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –º–∞—à–∏–Ω–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–±–ª–µ–≥—á–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏, –∫–æ–∏–º–∏ —è–≤–ª—è—é—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–≤–∞, –≤–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞ –∏–ª–∏ –ª—é–±–æ–µ –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –î–ª—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–∫–æ–≥–æ —Ä–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–ª–æ–∂–µ–Ω–∏—è –≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ. –Ø —Ä–∞—Å—Å–∫–∞–∂—É –æ–± –æ–¥–Ω–æ–º –∏–∑ —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ Swivel, –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å –µ–≥–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∏ –≥—Ä–∞—Ñ–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö, –∞ —Ç–∞–∫ –∂–µ —Ä–∞—Å—Å–∫–∞–∂—É –∫–∞–∫ –ø–æ–¥–æ–±–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –∞–Ω–∞–ª–∏–∑—É –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ —è–∑—ã–∫–∞ Python." />
    <meta property="og:image" content="http://zurk.github.io/moscow-python-06-2018/pictures/cover.jpg" />
    <meta property="twitter:image" content="http://zurk.github.io/moscow-python-06-2018/pictures/cover.jpg" />
    <link rel="stylesheet" href="shower/themes/ribbon/styles/screen-16x10.css">
</head>
<style>
        #scroll_code pre code::before {
            position: relative;
            margin-left: 0;
            margin-right: 10px;
        }
</style>
<body class="shower list">

	<header class="caption">
		<button type="button" id="fullscreen" title="Go fullscreen" onclick="fullscreen()"><i class="fa fa-arrows-alt"></i></button>
		<h1>–ê–ª–≥–æ—Ä–∏—Ç–º Swivel –∏ –µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h1>
		<p>–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω –°–ª–∞–≤–Ω–æ–≤, <a href="https://sourced.tech">source{d}</a>.</p>
	</header>

	<style>
        body {
            -webkit-font-smoothing: antialiased;
            -webkit-tap-highlight-color: transparent;
        }
        -webkit-full-screen {
            z-index: 1;
            height: 100%;
        }
        :-webkit-full-screen .full section {
            /* fix buggy Chrome offsets */
            margin-left: -1px !important;
            margin-top: -1px !important;
        }
        
        .slide {
            color: white;
            background: black;
        }
        .slide h2 {
            color: #bababa;
        }
        #fullscreen {
            float: right;
            height: 48px;
            width: 48px;
            background: none;
            -webkit-appearance: none;
            cursor: pointer;
            border: none;
            color: #3c3d40;
            position: fixed;
            right: 20px;
        }
        #fullscreen:hover {
            color: #bababa;
        }
        #fullscreen:focus {
            outline: none;
        }
        #fullscreen > i {
            font-size: 36px;
            text-align: center;
        }
        .slide p {
            line-height: 1.25;
        }
        .slide::after {
            display: none;
        }
        .center {
            display: table;
            margin-left: auto;
            margin-right: auto;
        }
        h2.bottom {
            position: absolute;
            bottom: 50px;
        }
        .important {
            color: red;
        }
        .mono {
            font-family: monospace;
        }
        .success {
            color: green;
        }
        .vista {
            background-size: contain !important;
            background-repeat: no-repeat !important;
            background-position: center !important;
        }
        .vista-cover {
            background-size: cover !important;
        }
        i.fa {
            font-style: normal;
        }
        ul.no-bullets > li::before {
            display: none;
            text-indent: 0;
        }
        ul.no-bullets > li {
            text-indent: 0;
        }
		code.inline:before, code.inline-no-offset:before {
			display: none;
		}
		code.inline, code.inline-no-offset {
			padding: 0;
		}
		code.inline-no-offset {
			margin-left: 0 !important;
			padding-left: 50px !important;
		}
		.part-teaser {
			text-align: center;
			vertical-align: middle;
			line-height: 400px !important;
		}
		.slide a {
			background: none;
		}
		.slide a:hover {
			background: linear-gradient(to top,currentColor .09em,transparent .09em) repeat-x;
		}
        img.obj-cover {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .fa {
            display: inline;
        }
        ul.two-cols {
            overflow: hidden;
        }
        ul.two-cols > li::before {
            display: none;
            text-indent: 0;
        }
        ul.two-cols > li {
            text-indent: 0;
            float: left;
            width: 50%;
        }
        .monofa {
            width: 1.5em;
            margin-right: 0.5em;
            display: inline-block;
            text-align: center;
        }
        .fa-bullets > li {
            margin-left: -2em;
        }
        .white {
            color: white !important;
        }
    </style>

	<section class="slide vista vista-cover" id="cover">
        <div>
    		<h2>–ê–ª–≥–æ—Ä–∏—Ç–º Swivel –∏ –µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
    		<p>
                <span class="white">–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω –°–ª–∞–≤–Ω–æ–≤,</span> 
                <a href="https://sourced.tech">source{d}</a>
            </p>
        </div>

		<style>
            #cover h2 {
                margin:30px 0 0;
                text-align:center;
                font-size:70px;
            }
            #cover div {
                background: rgba(0, 0, 0, 0.3);
                width: 100%
            }
            #cover p {
                margin: 40px 0 0;
                text-align:center;
                font-style:italic;
                font-size:20px;
            }
			#cover {
				background: url("pictures/cover.png") black;
                background-size: cover;
			}
			#cover h2:before {
				content: "";
				position: absolute;
				z-index: -1;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
				background: rgba(0, 0, 0, 0);
			}
            #cover > h2 {
                color: #bababa !important;
            }
        </style>
    </section>

    <section class="slide">
        <h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏</h2>
        –õ—é–±—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ <span class="important">–±–µ–∑ –ø–æ—Ä—è–¥–∫–∞</span>. –ö–∞–∫ —Å –Ω–∏–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å?
        <ul class="no-bullets fa-bullets">
            <li><span class="monofa">üó∫</span>–ì–æ—Ä–æ–¥–∞, —Å—Ç—Ä–∞–Ω—ã</li>
            <li><span class="monofa">üìñ</span>–¢–µ–∫—Å—Ç—ã</li>
            <li><span class="monofa">üï∏</span>–ì—Ä–∞—Ñ—ã</li>
            <li><span class="monofa">‚Ä¢</span>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>–ö–æ–¥–∏—Ä—É–µ–º!</h2>
        <ul class="fa-bullets">
            <li>One-hot-encoding</li>
            <li>–•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
            <li>–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–∏–∑–Ω–∞–∫–æ–º</li>
        </ul>
    </section>

    <section class="slide">
        <h2>One-hot-encoding</h2>
        <ul class="no-bullets fa-bullets">
            <li><span class="monofa">üçí</span> ‚áí <span id="leftspace">\([\;1,\; 0,\; 0\;]\)</span></li>
            <li><span class="monofa">üçë</span> ‚áí <span id="leftspace">\([\;0,\; 1,\; 0\;]\)</span></li>
            <li><span class="monofa">üçè</span> ‚áí <span id="leftspace">\([\;0,\; 0,\; 1\;]\)</span></li>
        </ul>

        <style>
            #leftspace {
                padding: 20px;
            }
        </style>
    </section>

        <section class="slide">
        <h2>One-hot-encoding</h2>
        <ul class="no-bullets fa-bullets">
            <li><span class="monofa">üçí</span> ‚áí <span id="leftspace">\([\;1,\; 0,\; 0\;]\)</span></li>
            <li><span class="monofa">üçë</span> ‚áí <span id="leftspace">\([\;0,\; 1,\; 0\;]\)</span></li>
            <li><span class="monofa">üçè</span> ‚áí <span id="leftspace">\([\;0,\; 0,\; 1\;]\)</span></li>
        </ul>
$$
\begin{bmatrix}
    üçí & 2 & 0.5  \\
    üçë & 1 & 0.75 \\
    üçë & 3 & 0.9  \\
    \vdots & \vdots & \vdots \\
    üçè & 5 & 0.2 \\
\end{bmatrix}
\quad \Longrightarrow \quad
\begin{bmatrix}
    1 & 0 & 0 & 2 & 0.5  \\
    0 & 1 & 0 & 1 & 0.75 \\
    0 & 1 & 0 & 3 & 0.9  \\
    \vdots & \vdots & \vdots & \vdots & \vdots \\
    0 & 0 & 1 & 5 & 0.2 \\
\end{bmatrix}
$$  
        <style>
            #leftspace {
                padding: 20px;
            }
        </style>
    </section>

    <section class="slide">
        <h2>–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ </h2>
        <ul class="no-bullets fa-bullets">
            <li><span class="monofa">üçí</span> ‚áí <code id="leftspace">[ 1, 1]</code></li>
            <li><span class="monofa">üçë</span> ‚áí <code id="leftspace">[ 0,-1]</code></li>
            <li><span class="monofa">üçè</span> ‚áí <code id="leftspace">[ 0, 1]</code></li>
            <li><span class="monofa">üçá</span> ‚áí <code id="leftspace">[-1, 1]</code></li>
            <li><span class="monofa">üçì</span> ‚áí <code id="leftspace">[ 2, 0]</code></li>
        </ul>
        aka the hashing trick
        <style>
            .smallcode {
                font-size: 85%;
            }
        </style>
    </section>

    <section class="slide">
        <h2>–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ sklearn</h2>
        <code class="smallcode">
            <span class="hl-keyword">from</span> sklearn.feature_extraction <span class="hl-keyword">import</span> FeatureHasher <br>
            fruits = [<span class="hl-string">"cherry"</span>, <span class="hl-string">"peach"</span>, <span class="hl-string">"apple"</span>, <span class="hl-string">"grapes"</span>, <span class="hl-string">"strawberry"</span>] <br>
            hasher = FeatureHasher(n_features=<span class="hl-number">2</span>, input_type=<span class="hl-string">"string"</span>) <br>
            hasher.transform(fruits)
        </code>
        <style>
            .smallcode {
                padding: .0em .0em !important;
                font-size: 85%;
            }

            .hl-keyword {
                color: #cc8242;
                font-weight: bold;
            }
            .hl-def {
                color: #ffc66d;
            }
            .hl-reserved {
                color: #94558D;
            }
            .hl-string {
                color: #6a8759;
            }
            .hl-number {
                color: #6a87ff;
            }
        </style>
    </section>

    <section class="slide">
        <h2>–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–∏–∑–Ω–∞–∫–æ–º</h2>
        <ul class="no-bullets fa-bullets">
            <li><span class="monofa">üçí</span> ‚áí <code id="leftspace">250</code></li>
            <li><span class="monofa">üçë</span> ‚áí <code id="leftspace">150</code></li>
            <li><span class="monofa">üçè</span> ‚áí <code id="leftspace">100</code></li>
        </ul>
    </section>

    <section class="slide">
        <h2>–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–∏–∑–Ω–∞–∫–æ–º</h2>
        <ul class="no-bullets fa-bullets">
            <li><span class="monofa">üçí</span> ‚áí <code id="leftspace">250</code></li>
            <li><span class="monofa">üçë</span> ‚áí <code id="leftspace">150</code></li>
            <li><span class="monofa">üçè</span> ‚áí <code id="leftspace">100</code></li>
        </ul>
$$
\begin{bmatrix}
    üçí & 2 & 0.5  \\
    üçë & 1 & 0.75 \\
    üçë & 3 & 0.9  \\
    \vdots & \vdots & \vdots \\
    üçè & 5 & 0.2 \\
\end{bmatrix}
\;
\begin{bmatrix}
    250 \\
    100 \\
    200 \\
    \vdots \\
    100 \\
\end{bmatrix}
\quad \Longrightarrow \quad
\begin{bmatrix}
    250 & 2 & 0.5  \\
    150 & 1 & 0.75 \\
    150 & 3 & 0.9  \\
    \vdots & \vdots & \vdots \\
    100 & 5 & 0.2 \\
\end{bmatrix}
\;
\begin{bmatrix}
    250 \\
    100 \\
    200 \\
    \vdots \\
    100 \\
\end{bmatrix}
$$
    </section>

    <section class="slide">
        <h2>–ò—Ç–æ–≥</h2>
        <ul class="no-bullets fa-bullets">
            <li><span class="monofa">‚òëÔ∏è</span> –ë—ã—Å—Ç—Ä–æ</li>
            <li><span class="monofa">‚òëÔ∏è</span> –° –ª—é–±—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏</li>
            <li><span class="monofa">‚ùå</span> –ù–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ</li>
        </ul>

        –ï—Å–ª–∏ —É –ø—Ä–∏–∑–Ω–∞–∫–∞ –µ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî –µ–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
    </section>

    <section class="slide" id="tf-ids">
        <h2>–í–µ–∫—Ç–æ—Ä–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è üéâ</h2>
            <p>tensorflow fa-floppy-oat unaligned vector ttypes
            types const unaligned vec int unaligned vector ttypes types int const
            unaligned vec example statistics norm normalized squared regularizations
            regularizations status initialize construction kernel opkernel context
            error iferror return tfreturn context attr get symmetric error iferror
            return tfreturn context attr get symmetric shrinkage symmetric symmetric
            status shrink weight shrinked std max std abs weight shrinkage shrinked
            std copysign shrinked weight eigen tensor eigen major row eigen shrink
            eigen tensor eigen major row weights weights sign weights abs weights
            constant shrinkage cwise max weights
            constant shrinkage cwise max weights constant symmetric symmetric
            symmetric symmetric shrinkage and assign copy disallow tfdisallow
            regularizations model weights example example statistics and compute
            example norm weighted wxand num partitions model weights model weights
            regularizations regularization example label example label example
            weight example weight norm squared norm squared features sparse std
            ptr unique int unaligned vector indices std ptr unique float unaligned
            vector values std vector features sparse features sparse
            dense vector eigen map tensor eigen tensor eigen major row row eigen
            map tensor eigen tensor eigen major row data matrix data index row
            data matrix dimension data matrix dimension ttypes types const matrix
            data matrix int index row std vector std ptr unique dense vector dense
            vectors example label example weight norm squared examples model weights
            model weights model weights delta update weights eigen device pool thread
            device example example bounded delta dual normalized sparse weights size
            example features sparse features sparse example features sparse feature
            weights feature weights sparse weights int features sparse indices size
            feature value features sparse values features sparse values feature
            weights deltas features sparse indices feature value bounded delta
            dual normalized dense weights size example dense vector dense vector
            example dense vectors ttypes types vec deltas dense weights deltas
            deltas device device deltas dense vector row deltas constant bounded
            delta dual normalized status initialize context kernel opkernel context
            input list opinput inputs sparse weights error iferror return tfreturn
            context input list inputs sparse weights input list opinput dense
            inputs weights error iferror return tfreturn context input list dense
            inputs weights list opoutput output outputs sparse weights error iferror
            return tfreturn context list output outputs sparse weights list opoutput
            output dense outputs weights error iferror return tfreturn context
            list output dense outputs weights intialize weights input list opinput
            inputs weight list opoutput output outputs weight std vector feature
            weights feature weights inputs weight size tensor delta outputs weight
            allocate inputs weight shape delta deltas delta flat deltas set zero
            feature weights back emplace feature weights inputs weight flat deltas
            intialize weights inputs sparse weights outputs sparse weights sparse
            weights intialize weights dense inputs weights dense outputs weights
            dense weights status feature weights ttypes types vec nominals ttypes
            types vec deltas std vector feature weights sparse weights std vector
            feature weights dense weights example and assign copy disallow tfdisallow
            model weights example statistics example and compute example norm weighted
            wxand num partitions model weights model weights regularizations
            regularization example statistics result result norm normalized squared
            norm squared regularization symmetric features sparse size example
            features sparse features sparse features sparse model weights feature
            weights sparse weights model weights sparse weights int features sparse
            indices size int feature index features sparse indices feature value
            features sparse values features sparse values feature weight 
            <span class="hl-number-dark">sparse weights <b>nominals</b> feature index</span>
            sparse weights deltas feature index num partitions
            result feature value regularization shrink feature weight dense vectors
            size example dense vector dense vector dense vectors model weights
            feature weights dense weights model weights dense weights eigen tensor
            eigen major row feature weights dense weights nominals dense weights
            deltas dense weights deltas constant num partitions eigen tensor eigen
            major row prediction dense vector row regularization eigen shrink
            feature weights sum result prediction result examples examples example
            example example index examples example index examples num examples
            size features num features num status initialize context kernel
            opkernel context features num sparse features num sparse values with
            dense features num features num features num sparse dense features
            num input list opinput example indices inputs sparse error iferror
            return tfreturn context input list example indices inputs sparse input
            list opinput feature indices inputs sparse error iferror return
            tfreturn context input list feature indices inputs sparse input list
            opinput feature inputs sparse values features num sparse values with
            error iferror return tfreturn context input list feature inputs sparse
            values tensor example weights error iferror return tfreturn context
            input example weights example weights example weights flat examples
            num example weights size tensor example labels error iferror return
            tfreturn context input example labels example labels example labels
            flat input list opinput dense features inputs error iferror return
            tfreturn context input list dense features inputs examples clear examples
            </p>
        <style>
            #tf-ids p {
                display: block;
                height: 100%;
                overflow: hidden;
                color: #606060;
                font-size: 0.5em;
                line-height: 1.2;
                font-family: monospace;
                margin: 0;
                text-align: justify;
            }
            #tf-ids h2 {
                position: absolute;
                left: 100px;
                top: 106px;
                background-color: rgba(0, 0, 0, 0.5);
            }
            #tf-ids {
                padding: 10px 0px 15px 0px;
            }
            .hl-number-dark {
                color: #3a37bf;
            }
        </style>
    </section>

    <section class="slide">
        <h2>–í–ª–æ–∂–µ–Ω–∏–µ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ</h2>
        <div class="math-center">
            <p class="skip">
\(
\begin{split}
\texttt{"apple"} \Leftrightarrow & \; V_1 \\
\\
\texttt{"peach"} \Leftrightarrow & \; V_2 \\
\\
\texttt{"cat"} \Leftrightarrow &  \; V_3 \\
\\
\mathrm{similarity}(V_1, V_2) <  & \; \mathrm{similarity}(V_1, V_3)
\end{split}
\)
            </p>
        </div>

        <style>
            .math-center {
                font-size: 1.4em;
            } 
            p.skip {
                margin-bottom: 50px;
            }
            @font-face {
                font-family: "Over the Rainbow";
                src: url("fonts/Over the Rainbow.ttf") format("ttf");
                src: url("fonts/Over the Rainbow.woff2") format("woff2");
            }
        </style>
    </section>

    <section class="slide">
        <h2>–í–ª–æ–∂–µ–Ω–∏–µ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ</h2>
        <div class="math-center">
            <p class="skip">
\(
\begin{split}
\texttt{"apple"} \Leftrightarrow & \; V_1 \\
\\
\texttt{"peach"} \Leftrightarrow & \; V_2 \\
\\
\texttt{"cat"} \Leftrightarrow &  \; V_3 \\
\\
\mathrm{similarity}(V_1, V_2) =  & \; {V_1}^\top V_2
\end{split}
\)
            </p>
        </div>
    </section>

    <section class="slide">
        <h2 class="shout math-shout">–ö–∞–∫ –æ—Ü–µ–Ω–∏—Ç—å\({V_i}^\top V_j\) ?</h2>
        <style>
        .math-shout > span {
            font-weight: inherit !important;
            font-size: inherit !important;
            font-family: inherit !important;
            line-height: 1.5;
        }
        </style>
    </section>

    <section class="slide">
        <h2>–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî —Å–ª–æ–≤–æ</h2>
        <div id="emb_explicit_example">
            <div>
                –ü—Ä–∏–º–µ—Ä:<br>
                "–°–ª–æ–≤–∞ ‚Äî —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å —Å–ª–æ–≤–∞."<br>
                –®–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚Äî 1.
            </div>
            <div class="vista">
                <img src="pictures/coocc_example1.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        <style>
            #emb_explicit_example {
                display: flex;
                align-items: top;
            }
            #emb_explicit_example_pic {
                position: absolute;
                right: 50px;
                width: 400px;
                height: 400px;
            }
        </style>
    </section>

    <section class="slide">
        <h2>–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî —Å–ª–æ–≤–æ</h2>
        <div id="emb_explicit_example">
            <div>
                –ü—Ä–∏–º–µ—Ä:<br>
                "<span class="hl-number"><b>–°–ª–æ–≤–∞</b> ‚Äî —ç—Ç–æ</span> –≤—Å–µ–≥–æ –ª–∏—à—å —Å–ª–æ–≤–∞."<br>
            </div>
            <div class="vista">
                <img src="pictures/coocc_example2.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        </style>
    </section>
    <section class="slide">
        <h2>–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî —Å–ª–æ–≤–æ</h2>
        <div id="emb_explicit_example">
            <div>
                –ü—Ä–∏–º–µ—Ä:<br>
                "<span class="hl-number">–°–ª–æ–≤–∞ ‚Äî <b>—ç—Ç–æ</b> –≤—Å–µ–≥–æ</span> –ª–∏—à—å —Å–ª–æ–≤–∞."<br>
            </div>
            <div class="vista">
                <img src="pictures/coocc_example3.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        </style>
    </section>
    <section class="slide">
        <h2>–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî —Å–ª–æ–≤–æ</h2>
        <div id="emb_explicit_example">
            <div>
                –ü—Ä–∏–º–µ—Ä:<br>
                "–°–ª–æ–≤–∞ ‚Äî <span class="hl-number">—ç—Ç–æ <b>–≤—Å–µ–≥–æ</b> –ª–∏—à—å</span> —Å–ª–æ–≤–∞."<br>
            </div>
            <div class="vista">
                <img src="pictures/coocc_example4.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        </style>
    </section>
    <section class="slide">
        <h2>–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî —Å–ª–æ–≤–æ</h2>
        <div id="emb_explicit_example">
            <div>
                –ü—Ä–∏–º–µ—Ä:<br>
                "–°–ª–æ–≤–∞ ‚Äî —ç—Ç–æ <span class="hl-number">–≤—Å–µ–≥–æ <b>–ª–∏—à—å</b> —Å–ª–æ–≤–∞</span>."<br>
            </div>
            <div class="vista">
                <img src="pictures/coocc_example5.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        </style>
    </section>
    <section class="slide">
        <h2>–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî —Å–ª–æ–≤–æ</h2>
        <div id="emb_explicit_example">
            <div>
                –ü—Ä–∏–º–µ—Ä:<br>
                "–°–ª–æ–≤–∞ ‚Äî —ç—Ç–æ –≤—Å–µ–≥–æ <span class="hl-number">–ª–∏—à—å <b>—Å–ª–æ–≤–∞</b></span>."<br>
            </div>
            <div class="vista">
                <img src="pictures/coocc_example6.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        </style>
    </section>
    <section class="slide">
        <h2>–ö–∞–∫ –æ—Ü–µ–Ω–∏—Ç—å\({V_i}^\top V_j\) ?</h2>
        <div id="emb_explicit_example">
            <div>
                –ü—Ä–∏–º–µ—Ä:<br>
                "–°–ª–æ–≤–∞ ‚Äî —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å —Å–ª–æ–≤–∞."<br><br>
                \(\qquad{V_i}^\top V_j = \mathrm{PMI}(A)_{ij}\)
            </div>
            <div class="vista">
                <img src="pictures/coocc_example6.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        </style>
    </section>

    <section class="slide">
        <h2>–ö–∞–∫ –æ—Ü–µ–Ω–∏—Ç—å\({V_i}^\top V_j\) ?</h2>
        <div id="emb_explicit_example">
            <div>
                <p>Pointwise mutual information:</p>
                \(\mathrm{PMI} (x;y) \equiv \log {\dfrac {p(x,\,y)}{p(x)\,p(y)}}.\)
            </div>
            <div class="vista">
                <img src="pictures/coocc_example6.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        </style>
    </section>

    <section class="slide">
        <h2>–ö–∞–∫ –æ—Ü–µ–Ω–∏—Ç—å\({V_i}^\top V_j\) ?</h2>
        <div id="emb_explicit_example">
            <div>
                <p>Pointwise mutual information:</p>
                \(
                \mathrm{PMI} (x;y) \equiv \log {\dfrac {p(x,\,y)}{p(x)\,p(y)}}. \\[20pt]
                x = —ç—Ç–æ \quad y = –ª–∏—à—å \\
                \dfrac {p(—ç—Ç–æ,\, –ª–∏—à—å)}{p(—ç—Ç–æ)\,p(–ª–∏—à—å)} = \dfrac {0}{1/4 \,\cdot\, 1/4} = 0. \\
                \)
            </div>
            <div class="vista">
                <img src="pictures/coocc_example6.svg" id="emb_explicit_example_pic">
            </div>
        </div>
        </style>
    </section>

    <section class="slide">
    <h2>–ö–∞–∫ –æ—Ü–µ–Ω–∏—Ç—å\({V_i}^\top V_j\) ?</h2>
    <div id="emb_explicit_example">
        <div>
            <p>Pointwise mutual information:</p>
            \(
            \mathrm{PMI} (x;y) \equiv \log {\dfrac {p(x,\,y)}{p(x)\,p(y)}}. \\[20pt]
            x = —ç—Ç–æ \quad y = –≤—Å–µ–≥–æ \\
            \dfrac {p(—ç—Ç–æ,\, –≤—Å–µ–≥–æ)}{p(—ç—Ç–æ)\,p(–≤—Å–µ–≥–æ)} = \dfrac {1/8}{1/4 \,\cdot\, 1/4} = 2. \\
            \)
        </div>
        <div class="vista">
            <img src="pictures/coocc_example6.svg" id="emb_explicit_example_pic">
        </div>
    </div>
    </style>
    </section>

    <section class="slide">
            <h2 style="font-size:320%;padding-top: 100px">\({V_i}^\top V_j \approx \log {\dfrac {p(x,\,y)}{p(x)\,p(y)}}\)</h2>
    </section>

    <section class="slide">
        <h2>–ò—Ç–æ–≥–æ</h2>
        <ul>
            <li>–°–Ω–∏–∂–∞–µ—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.</li>
            <li>–ü–æ—Ö–æ–∂–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî –ø–æ—Ö–æ–∂–∏–µ –≤–µ–∫—Ç–æ—Ä–∞.</li>
            <li>–õ–æ–≥–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥: \(V(–¥–µ–≤—É—à–∫–∞) ‚àí V(–ø–∞—Ä–µ–Ω—å) ‚âÉ V(–∫–æ—Ä–æ–ª–µ–≤–∞) ‚àí V(–∫–æ—Ä–æ–ª—å)\).</li>
        </ul>
    </section>

    <section class="slide vista vista-cover" id="powerful">
        <h2>–ë—ã—Å—Ç—Ä–æ. –ú–æ—â–Ω–æ.</h2>
        <style>
            #powerful {
                background-image: url("pictures/power.jpg");
            }
            #powerful h2 {
                color: #000;
            }
        </style>
    </section>

    <section class="slide">
        <h2>–ü—Ä–∏–º–µ—Ä—ã –º–æ–¥–µ–ª–µ–π</h2>
        <ul>
            <li>Word2vec ‚Äî <a href="https://arxiv.org/pdf/1310.4546.pdf">–°—Ç–∞—Ç—å—è –Ω–∞ ArXiV</a>, <a href="https://github.com/facebookresearch/fastText">fastText</a>.</li>
            <li>GloVe ‚Äî <a href="https://nlp.stanford.edu/pubs/glove.pdf">–°—Ç–∞—Ç—å—è</a>, <a href="https://nlp.stanford.edu/projects/glove/">—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</a>.    </li>
            <li>Swivel ‚Äî <a href="https://arxiv.org/pdf/1602.02215.pdf">–°—Ç–∞—Ç—å—è –Ω–∞ ArXiV</a>, <a href="https://github.com/tensorflow/models/tree/master/research/swivel">—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ tensorflow</a>, <a href="https://github.com/src-d/ml/blob/master/sourced/ml/algorithms/swivel.py">–Ω–∞—à —Ñ–æ—Ä–∫</a>. </li>
        </ul>
    </section>

    <section class="slide">
        <h2>Swivel</h2>
        <ul class="no-bullets fa-bullets">
            <li><span class="monofa">‚úÖ</span>–†–∞–±–æ—Ç–∞–µ—Ç —Å –º–∞—Ç—Ä–∏—Ü–µ–π —Å–ª–æ–≤–æ-–∫–æ–Ω—Ç–µ–∫—Å—Ç</li>
            <li><span class="monofa">‚úÖ</span>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è —Å —Ä–∞–∑–º–µ—Ä–æ–º —Å–ª–æ–≤–∞—Ä—è</li>
            <li><span class="monofa">‚úÖ</span>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è (GPUs & nodes)</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Swivel sharding</h2>
        <img src="pictures/swivel.png" id="swivel1">
        <style>
            #swivel1 {
                height: 300px;
                object-fit: contain;
            }
        </style>
    </section>

    <section class="slide">
        <h2>Swivel sharding</h2>
        <img src="pictures/swivel_sharding.png" id="swivel2">
        <style>
            #swivel2 {
                height: 400px;
                object-fit: contain;
            }
        </style>
    </section>

    <section class="slide" id="cover_code">
        <h2 class="shout" id="cover_code_title">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º<br>–∫–æ–¥</h2>
        <style>
            #cover_code {
                background: url("pictures/code.jpg") black;
                background-size: cover;
            }
            #cover_code_title {
                background: rgba(0,0,0,0.8);
                }
        </style>
    </section>

    <section class="slide">
        <h2>Id2Vec</h2>
        –°—Ç—Ä–æ–∏–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤ –∫–æ–¥–µ. <br>
        <span class="important">–ö–∞–∫ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É —Å–ª–æ–≤–æ-–∫–æ–Ω—Ç–µ–∫—Å—Ç \(A_{ij}\)?</span>
    </section>

    <section class="slide">
        <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
    </section>

    <section class="slide">
        <h2>–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞</h2>
        <pre>
            <code>_tcp_socket_connect -> [tcp, socket, connect]</code>
            <code>AuthenticationError -> [authentication, error]</code>
            <code>authentication, authenticate -> authenticate</code>
        </pre>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">database, connect<sup>2</sup>, user<sup>2</sup>, password<sup>2</sup>, host<sup>2</sup>, port<sup>2</sup>, tcp, socket<sup>2</sup>, authenticate<sup>2</sup>, error, close </p>
        <div class="context ctx1"></div>
        <style>
            .keywords {
                font-family: monospace;
            }
            .keywords::before {
                content: ">>>";
                position: absolute;
                margin-left: -2.2em;
            }
            .context {
                position: absolute;
                border: 5px dashed #979a9e;
                border-radius: 10px;
            }
            .ctx1 {
                width: 760px;
                height: 392px;
                top: 110px;
                left: 93px;
            }
        </style>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">connect<sup>2</sup>, user<sup>2</sup>, password<sup>2</sup>, host<sup>2</sup>, port<sup>2</sup>, tcp, socket<sup>2</sup>, authenticate<sup>2</sup>, error, close </p>
        <div class="context ctx2"></div>
        <style>
            .ctx2 {
                width: 700px;
                height: 352px;
                top: 156px;
                left: 153px;
            }
        </style>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">connect, user, password, host, port</p>
        <div class="context ctx3"></div>
        <style>
            .ctx3 {
                width: 700px;
                height: 50px;
                top: 156px;
                left: 153px;
            }
        </style>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">tcp, socket, connect, host, port</p>
        <div class="context ctx4"></div>
        <style>
            .ctx4 {
                width: 555px;
                height: 50px;
                top: 207px;
                left: 213px;
            }
        </style>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">authenticate<sup>2</sup>, user, password, error, socket, close</p>
        <div class="context ctx5"></div>
        <style>
            .ctx5 {
                width: 585px;
                height: 245px;
                top: 258px;
                left: 213px;
            }
        </style>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">authenticate, user, password</p>
        <div class="context ctx6"></div>
        <style>
            .ctx6 {
                width: 528px;
                height: 50px;
                top: 307px;
                left: 270px;
            }
        </style>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">authenticate, error, socket, close</p>
        <div class="context ctx7"></div>
        <style>
            .ctx7 {
                width: 492px;
                height: 147px;
                top: 357px;
                left: 213px;
            }
        </style>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">authenticate, error</p>
        <div class="context ctx8"></div>
        <style>
            .ctx8 {
                width: 492px;
                height: 50px;
                top: 357px;
                left: 213px;
            }
        </style>
    </section>

    <section class="slide">
            <pre><code><span class="hl-keyword">class</span> Database:</code>
<code>    <span class="hl-keyword">def</span> <span class="hl-def">connect</span>(<span class="hl-reserved">self</span>, user, password, host, port):</code>
<code>        <span class="hl-reserved">self</span>._tcp_socket_connect(host, port)</code>
<code>        <span class="hl-keyword">try</span>:</code>
<code>            <span class="hl-reserved">self</span>._authenticate(user, password)</code>
<code>        <span class="hl-keyword">except</span> AuthenticationError <span class="hl-keyword">as</span> e:</code>
<code>            <span class="hl-reserved">self</span>.socket.close()</code>
<code>            <span class="hl-keyword">raise</span> e <span class="hl-keyword">from None</span></code>
        </pre>
        <p class="keywords">socket, close</p>
        <div class="context ctx9"></div>
        <style>
            .ctx9 {
                width: 302px;
                height: 50px;
                top: 407px;
                left: 272px;
            }
        </style>
    </section>
<section class="slide vista" id="all2all1">
        <style>
            #all2all1 {
                background-image: url("pictures/all2all_1_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all2">
        <style>
            #all2all2 {
                background-image: url("pictures/all2all_2_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all3">
        <style>
            #all2all3 {
                background-image: url("pictures/all2all_3_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all4">
        <style>
            #all2all4 {
                background-image: url("pictures/all2all_4_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all5">
        <style>
            #all2all5 {
                background-image: url("pictures/all2all_5_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all6">
        <style>
            #all2all6 {
                background-image: url("pictures/all2all_6_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all7">
        <style>
            #all2all7 {
                background-image: url("pictures/all2all_7_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all8">
        <style>
            #all2all8 {
                background-image: url("pictures/all2all_8_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all9">
        <style>
            #all2all9 {
                background-image: url("pictures/all2all_9_white.svg");
            }
        </style>
    </section>

    <section class="slide vista" id="all2all">
        <style>
            #all2all {
                background-image: url("pictures/all2all_white.svg");
            }
        </style>
    </section>

    <section class="slide">
        <h2>Id2Vec</h2>
        –°—Ç—Ä–æ–∏–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤ –∫–æ–¥–µ. <br>
        –ö–∞–∫ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É —Å–ª–æ–≤–æ-–∫–æ–Ω—Ç–µ–∫—Å—Ç \(A_{ij}\)? <br><br>

        \(A_{ij} =\) –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –∫–æ–≥–¥–∞ \(i\) –∏ \(j\) –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –≤–º–µ—Å—Ç–µ <i class="important fa fa-heart" aria-hidden="true"></i></li>
        </style>
    </section>

    <section class="slide">
        <h2>Id2Vec</h2>
        –°—Ç—Ä–æ–∏–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤ –∫–æ–¥–µ. <br>
        –ö–∞–∫ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É —Å–ª–æ–≤–æ-–∫–æ–Ω—Ç–µ–∫—Å—Ç \(A_{ij}\)? <br><br>

        \(A_{ij} =\) –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –∫–æ–≥–¥–∞ \(i\) –∏ \(j\) –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –≤–º–µ—Å—Ç–µ <i class="important fa fa-heart" aria-hidden="true"></i></li>
        <br><br>
        $$
{V_i}^\top V_j \approx PMI_{ij} = \log\dfrac{A_{ij} \sum A_{ij}}{\sum_{k = 1}^N A_{ik}\sum_{k = 1}^N A_{jk}}
$$
    </section>

    <section class="slide part" id="cover_random">
        <div>
            <h2 class="shout" >–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
        </div>
        <style>
            #cover_random {
                background: url("pictures/random_graph_white.png") black;
                background-size: cover;
            }
            #cover_random div:before {
                content: "";
                position: absolute;
                z-index: -1;
                left: 0;
                top: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.6);
            }
        </style>
    </section>

    <section class="slide">
        <h2>–ë–ª–∏–∂–∞–π—à–∏–µ –∏–º–µ–Ω–∞ –∫ ‚Äúfoo‚Äù</h2>
        <ul class="two-cols">
            <li>afoo</li>
            <li>qux</li>
            <li>myfoo</li>
            <li>baz</li>
            <li>mfoo</li>
            <li>wibble</li>
            <li>dofoo</li>
            <li>quux</li>
            <li>dfoo</li>
            <li>testing</li>
            <li>ifoo</li>
        </ul>
    </section>

    <section class="slide">
        <h2>–õ–æ–≥–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥</h2>
        <p>\(V(\mathrm{bug})\) <span class="important">\(-\)</span> \(V(\mathrm{test})\) <span class="important">\(+\)</span> \(V(\mathrm{expect})\) <span class="important">\(\approx\)</span> \(V(\mathrm{suppress})\)</p>
        <p>\(V(\mathrm{database})\) <span class="important">\(-\)</span> \(V(\mathrm{query})\) <span class="important">\(+\)</span> \(V(\mathrm{tune})\) <span class="important">\(\approx\)</span> \(V(\mathrm{settings})\)</p>
        <p>\(V(\mathrm{send})\) <span class="important">\(-\)</span> \(V(\mathrm{receive})\) <span class="important">\(+\)</span> \(V(\mathrm{pop})\) <span class="important">\(\approx\)</span> \(V(\mathrm{push})\)</p>
        <div id="analogies" class="vista"></div>
        <style>
            #analogies {
                position: absolute;
                bottom: 0px;
                right: 50px;
                width: 550px;
                height: 330px;
                background-image: url("pictures/analogy_white.png");
            }
        </style>
    </section>

    <section class="slide">
        <h2>–û—á–µ–ø—è—Ç–∫–∏</h2>
        <ul>
            <li>\(V(\mathrm{recieve})\) <span class="compare">\(\approx\)</span> \(V(\mathrm{receive})\)</li>
            <li>\(V(\mathrm{grey})\) <span class="compare">\(\approx\)</span> \(V(\mathrm{gray})\)</li>
            <li>\(V(\mathrm{calback})\) <span class="compare">\(\approx\)</span> \(V(\mathrm{callbak})\) <span class="compare">\(\approx\)</span> \(V(\mathrm{callback})\)</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Id2vec</h2>
        –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ <a href="https://github.com/src-d/ml">Github</a>.<br><br>
        <pre>
            <code>$ python3 -m sourced.ml repo2coocc ... </code>  
            <code>$ python3 -m sourced.ml id2vec-preproc ... </code>
            <code>$ python3 -m sourced.ml id2vec-train ... </code>
        </pre>

    </section>

    <section class="slide">
        <h2>–†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–Ω–∏–ø–ø–µ—Ç—ã</h2>
    </section>

    <section class="slide">
        <h2>–†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–Ω–∏–ø–ø–µ—Ç—ã</h2>
        <div id="code_graph_example_pic">
        
        </div>
        <div id="code_graph_example">
            <pre class="vista" style="font-size: 90%">
                <code><span class="hl-keyword">import</span> numpy <span class="hl-keyword">as</span> np</code>
                <code>seed = <span class="hl-number">42</span></code>
                <code>np.random.seed(seed)</code>
                <code><span class="hl-def">print</span>(np.random.randint(<span class="hl-number">10</span>))</code>
                <code><span class="hl-keyword">from</span> sklearn.cluster <span class="hl-keyword">import</span> KMeans</code>
                <code>X = np.array([[<span class="hl-number">1</span>, <span class="hl-number">2</span>], [<span class="hl-number">1</span>, <span class="hl-number">4</span>]])</code>
                <code>kmeans = KMeans(<span class="hl-number">2</span>).fit(X)</code>
                <code><span class="hl-def">print</span>(kmeans.labels_)</code>
            </pre>
        </div>
        <style>
            #code_graph_example {
                align-items: top;
                position: absolute;
                right: 250px;
            }
            #code_graph_example_pic {
                position: absolute;
                align-items: top;
                display: flex;
                top: 153px;
                left: 0px;
                width: 400px;
                height: 428px;
            }
        </style>
    </section>

    <section class="slide">
        <h2>–†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–Ω–∏–ø–ø–µ—Ç—ã</h2>
        <div>
            <img src="pictures/code_graph1.svg" id="code_graph_example_pic">
        </div>
        <div id="code_graph_example">
            <pre class="vista" style="font-size: 90%">
                <code><span class="hl-keyword">import</span> numpy <span class="hl-keyword">as</span> np</code>
                <code>seed = <span class="hl-number">42</span></code>
                <code>np.random.seed(seed)</code>
                <code><span class="hl-def">print</span>(np.random.randint(<span class="hl-number">10</span>))</code>
                <code><span class="hl-keyword">from</span> sklearn.cluster <span class="hl-keyword">import</span> KMeans</code>
                <code>X = np.array([[<span class="hl-number">1</span>, <span class="hl-number">2</span>], [<span class="hl-number">1</span>, <span class="hl-number">4</span>]])</code>
                <code>kmeans = KMeans(<span class="hl-number">2</span>).fit(X)</code>
                <code><span class="hl-def">print</span>(kmeans.labels_)</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>–†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–Ω–∏–ø–ø–µ—Ç—ã</h2>
        <div>
            <img src="pictures/code_graph2.svg" id="code_graph_example_pic">
        </div>
        <div id="code_graph_example">
            <pre class="vista" style="font-size: 90%">
                <code><span class="hl-keyword">import</span> numpy <span class="hl-keyword">as</span> <span class="important">np</span></code>
                <code>seed = <span class="hl-number">42</span></code>
                <code><span class="important">np</span>.random.seed(seed)</code>
                <code><span class="hl-def">print</span>(<span class="important">np</span>.random.randint(<span class="hl-number">10</span>))</code>
                <code><span class="hl-keyword">from</span> sklearn.cluster <span class="hl-keyword">import</span> KMeans</code>
                <code>X = <span class="important">np</span>.array([[<span class="hl-number">1</span>, <span class="hl-number">2</span>], [<span class="hl-number">1</span>, <span class="hl-number">4</span>]])</code>
                <code>kmeans = KMeans(<span class="hl-number">2</span>).fit(X)</code>
                <code><span class="hl-def">print</span>(kmeans.labels_)</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>–†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–Ω–∏–ø–ø–µ—Ç—ã</h2>
        <div>
            <img src="pictures/code_graph3.svg" id="code_graph_example_pic">
        </div>
        <div id="code_graph_example">
            <pre class="vista" style="font-size: 90%">
                <code><span class="hl-keyword">import</span> numpy <span class="hl-keyword">as</span> np</code>
                <code><span class="important">seed</span> = <span class="hl-number">42</span></code>
                <code>np.random.<span class="important">seed</span>(<span class="important">seed</span>)</code>
                <code><span class="hl-def">print</span>(np.random.randint(<span class="hl-number">10</span>))</code>
                <code><span class="hl-keyword">from</span> sklearn.cluster <span class="hl-keyword">import</span> KMeans</code>
                <code>X = np.array([[<span class="hl-number">1</span>, <span class="hl-number">2</span>], [<span class="hl-number">1</span>, <span class="hl-number">4</span>]])</code>
                <code>kmeans = KMeans(<span class="hl-number">2</span>).fit(X)</code>
                <code><span class="hl-def">print</span>(kmeans.labels_)</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>–†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–Ω–∏–ø–ø–µ—Ç—ã</h2>
        <div>
            <img src="pictures/code_graph4.svg" id="code_graph_example_pic">
        </div>
        <div id="code_graph_example">
            <pre class="vista" style="font-size: 90%">
                <code><span class="hl-keyword">import</span> numpy <span class="hl-keyword">as</span> np</code>
                <code>seed = <span class="hl-number">42</span></code>
                <code>np.random.seed(seed)</code>
                <code><span class="hl-def">print</span>(np.random.randint(<span class="hl-number">10</span>))</code>
                <code><span class="hl-keyword">from</span> sklearn.cluster <span class="hl-keyword">import</span> <span class="important">KMeans</span></code>
                <code>X = np.array([[<span class="hl-number">1</span>, <span class="hl-number">2</span>], [<span class="hl-number">1</span>, <span class="hl-number">4</span>]])</code>
                <code>kmeans = <span class="important">KMeans</span>(<span class="hl-number">2</span>).fit(X)</code>
                <code><span class="hl-def">print</span>(kmeans.labels_)</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>–†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–Ω–∏–ø–ø–µ—Ç—ã</h2>
        <div>
            <img src="pictures/code_graph5.svg" id="code_graph_example_pic">
        </div>
        <div id="code_graph_example">
            <pre class="vista" style="font-size: 90%">
                <code><span class="hl-keyword">import</span> numpy <span class="hl-keyword">as</span> np</code>
                <code>seed = <span class="hl-number">42</span></code>
                <code>np.random.seed(seed)</code>
                <code><span class="hl-def">print</span>(np.random.randint(<span class="hl-number">10</span>))</code>
                <code><span class="hl-keyword">from</span> sklearn.cluster <span class="hl-keyword">import</span> KMeans</code>
                <code><span class="important">X</span> = np.array([[<span class="hl-number">1</span>, <span class="hl-number">2</span>], [<span class="hl-number">1</span>, <span class="hl-number">4</span>]])</code>
                <code>kmeans = KMeans(<span class="hl-number">2</span>).fit(<span class="important">X</span>)</code>
                <code><span class="hl-def">print</span>(kmeans.labels_)</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>–†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–Ω–∏–ø–ø–µ—Ç—ã</h2>
        <div>
            <img src="pictures/code_graph6.svg" id="code_graph_example_pic">
        </div>
        <div id="code_graph_example">
            <pre class="vista" style="font-size: 90%">
                <code><span class="hl-keyword">import</span> numpy <span class="hl-keyword">as</span> np</code>
                <code>seed = <span class="hl-number">42</span></code>
                <code>np.random.seed(seed)</code>
                <code><span class="hl-def">print</span>(np.random.randint(<span class="hl-number">10</span>))</code>
                <code><span class="hl-keyword">from</span> sklearn.cluster <span class="hl-keyword">import</span> KMeans</code>
                <code>X = np.array([[<span class="hl-number">1</span>, <span class="hl-number">2</span>], [<span class="hl-number">1</span>, <span class="hl-number">4</span>]])</code>
                <code><span class="important">kmeans</span> = KMeans(<span class="hl-number">2</span>).fit(X)</code>
                <code><span class="hl-def">print</span>(<span class="important">kmeans</span>.labels_)</code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>–ü—Ä–∏–º–µ—Ä</h2>
        <a href="https://github.com/jakevdp/PythonDataScienceHandbook/blob/master/notebooks/05.06-Linear-Regression.ipynb">
            Python Data Science Handbook - Linear Regression.
        </a>
    </section>

    <section class="slide vista">
        <div id="scroll_code">
            <pre class="vista" style="font-size: 60%">
            <br>
            <code>import matplotlib.pyplot as plt</code>
            <code>import seaborn as sns; sns.set()</code>
            <code>import numpy as np</code>
            <br>
            <code>rng = np.random.RandomState(1)</code>
            <code>x = 10 * rng.rand(50)</code>
            <code>y = 2 * x - 5 + rng.randn(50)</code>
            <code>plt.scatter(x, y);</code>
            <br>
            <code>from sklearn.linear_model import LinearRegression</code>
            <code>model = LinearRegression(fit_intercept=True)</code>
            <br>
            <code>model.fit(x[:, np.newaxis], y)</code>
            <br>
            <code>xfit = np.linspace(0, 10, 1000)</code>
            <code>yfit = model.predict(xfit[:, np.newaxis])</code>
            <br>
            <code>plt.scatter(x, y)</code>
            <code>plt.plot(xfit, yfit);</code>
            <br>
            <code>print("Model slope:    ", model.coef_[0])</code>
            <code>print("Model intercept:", model.intercept_)</code>
            <br>
            <code>rng = np.random.RandomState(1)</code>
            <code>X = 10 * rng.rand(100, 3)</code>
            <code>y = 0.5 + np.dot(X, [1.5, -2., 1.])</code>
            <br>
            <code>model.fit(X, y)</code>
            <code>print(model.intercept_)</code>
            <code>print(model.coef_)</code>
            <br>
            <code>from sklearn.preprocessing import PolynomialFeatures</code>
            <code>x = np.array([2, 3, 4])</code>
            <code>poly = PolynomialFeatures(3, include_bias=False)</code>
            <code>poly.fit_transform(x[:, None])</code>
            <br>
            <code>from sklearn.pipeline import make_pipeline</code>
            <code>poly_model = make_pipeline(PolynomialFeatures(7),</code>
            <code>                           LinearRegression())</code>
            <br>
            <code>rng = np.random.RandomState(1)</code>
            <code>x = 10 * rng.rand(50)</code>
            <code>y = np.sin(x) + 0.1 * rng.randn(50)</code>
            <br>
            <code>poly_model.fit(x[:, np.newaxis], y)</code>
            <code>yfit = poly_model.predict(xfit[:, np.newaxis])</code>
            <br>
            <code>plt.scatter(x, y)</code>
            <code>plt.plot(xfit, yfit);</code>
            <br>
            <code>from sklearn.base import BaseEstimator, TransformerMixin</code>
            <br>
            <code>class GaussianFeatures(BaseEstimator, TransformerMixin):</code>
            <code>    """Uniformly spaced Gaussian features for one-dimensional input"""</code>
            <br>
            <code>    def __init__(self, N, width_factor=2.0):</code>
            <code>        self.N = N</code>
            <code>        self.width_factor = width_factor</code>
            <br>
            <code>    @staticmethod</code>
            <code>    def _gauss_basis(x, y, width, axis=None):</code>
            <code>        arg = (x - y) / width</code>
            <code>        return np.exp(-0.5 * np.sum(arg ** 2, axis))</code>
            <br>
            <code>    def fit(self, X, y=None):</code>
            <br>
            <code>        self.centers_ = np.linspace(X.min(), X.max(), self.N)</code>
            <code>        self.width_ = self.width_factor * (self.centers_[1] - self.centers_[0])</code>
            <code>        return self</code>
            <br>
            <code>    def transform(self, X):</code>
            <code>        return self._gauss_basis(X[:, :, np.newaxis], self.centers_,</code>
            <code>                                 self.width_, axis=1)</code>
            <br>
            <code>gauss_model = make_pipeline(GaussianFeatures(20),</code>
            <code>                            LinearRegression())</code>
            <code>gauss_model.fit(x[:, np.newaxis], y)</code>
            <code>yfit = gauss_model.predict(xfit[:, np.newaxis])</code>
            <br>
            <code>plt.scatter(x, y)</code>
            <code>plt.plot(xfit, yfit)</code>
            <code>plt.xlim(0, 10);</code>
            <code>model = make_pipeline(GaussianFeatures(30),</code>
            <code>                      LinearRegression())</code>
            <code>model.fit(x[:, np.newaxis], y)</code>
            <br>
            <code>plt.scatter(x, y)</code>
            <code>plt.plot(xfit, model.predict(xfit[:, np.newaxis]))</code>
            <br>
            <code>plt.xlim(0, 10)</code>
            <code>plt.ylim(-1.5, 1.5);</code>
            <br>
            <code>def basis_plot(model, title=None):</code>
            <code>    fig, ax = plt.subplots(2, sharex=True)</code>
            <code>    model.fit(x[:, np.newaxis], y)</code>
            <code>    ax[0].scatter(x, y)</code>
            <code>    ax[0].plot(xfit, model.predict(xfit[:, np.newaxis]))</code>
            <code>    ax[0].set(xlabel='x', ylabel='y', ylim=(-1.5, 1.5))</code>
            <br>
            <code>    if title:</code>
            <code>        ax[0].set_title(title)</code>
            <br>
            <code>    ax[1].plot(model.steps[0][1].centers_,</code>
            <code>               model.steps[1][1].coef_)</code>
            <code>    ax[1].set(xlabel='basis location',</code>
            <code>              ylabel='coefficient',</code>
            <code>              xlim=(0, 10))</code>
            <br>
            <code>model = make_pipeline(GaussianFeatures(30), LinearRegression())</code>
            <code>basis_plot(model)</code>
            <br>
            <code>from sklearn.linear_model import Ridge</code>
            <code>model = make_pipeline(GaussianFeatures(30), Ridge(alpha=0.1))</code>
            <code>basis_plot(model, title='Ridge Regression')</code>
            <br>
            <code>from sklearn.linear_model import Lasso</code>
            <code>model = make_pipeline(GaussianFeatures(30), Lasso(alpha=0.001))</code>
            <code>basis_plot(model, title='Lasso Regression')</code>
            <br>
            <code>import pandas as pd</code>
            <code>counts = pd.read_csv('FremontBridge.csv', index_col='Date', parse_dates=True)</code>
            <code>weather = pd.read_csv('data/BicycleWeather.csv', index_col='DATE', parse_dates=True)</code>
            <br>
            <code>daily = counts.resample('d').sum()</code>
            <code>daily['Total'] = daily.sum(axis=1)</code>
            <code>daily = daily[['Total']]</code>
            <br>
            <code>days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']</code>
            <code>for i in range(7):</code>
            <code>    daily[days[i]] = (daily.index.dayofweek == i).astype(float)</code>
            <br>
            <code>from pandas.tseries.holiday import USFederalHolidayCalendar</code>
            <code>cal = USFederalHolidayCalendar()</code>
            <code>holidays = cal.holidays('2012', '2016')</code>
            <code>daily = daily.join(pd.Series(1, index=holidays, name='holiday'))</code>
            <code>daily['holiday'].fillna(0, inplace=True)</code>
            <br>
            <code>def hours_of_daylight(date, axis=23.44, latitude=47.61):</code>
            <code>    """Compute the hours of daylight for the given date"""</code>
            <code>    days = (date - pd.datetime(2000, 12, 21)).days</code>
            <code>    m = (1. - np.tan(np.radians(latitude))</code>
            <code>         * np.tan(np.radians(axis) * np.cos(days * 2 * np.pi / 365.25)))</code>
            <code>    return 24. * np.degrees(np.arccos(1 - np.clip(m, 0, 2))) / 180.</code>
            <br>
            <code>daily['daylight_hrs'] = list(map(hours_of_daylight, daily.index))</code>
            <code>daily[['daylight_hrs']].plot()</code>
            <code>plt.ylim(8, 17)</code>
            <br>
            <code>weather['TMIN'] /= 10</code>
            <code>weather['TMAX'] /= 10</code>
            <code>weather['Temp (C)'] = 0.5 * (weather['TMIN'] + weather['TMAX'])</code>
            <br>
            <code>weather['PRCP'] /= 254</code>
            <code>weather['dry day'] = (weather['PRCP'] == 0).astype(int)</code>
            <br>
            <code>daily = daily.join(weather[['PRCP', 'Temp (C)', 'dry day']])</code>
            <code>daily['annual'] = (daily.index - daily.index[0]).days / 365.</code>
            <code>daily.head()</code>
            <code>daily.dropna(axis=0, how='any', inplace=True)</code>
            <br>
            <code>column_names = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun', 'holiday',</code>
            <code>                'daylight_hrs', 'PRCP', 'dry day', 'Temp (C)', 'annual']</code>
            <code>X = daily[column_names]</code>
            <code>y = daily['Total']</code>
            <br>
            <code>model = LinearRegression(fit_intercept=False)</code>
            <code>model.fit(X, y)</code>
            <code>daily['predicted'] = model.predict(X)</code>
            <br>
            <code>daily[['Total', 'predicted']].plot(alpha=0.5);</code>
            <br>
            <code>params = pd.Series(model.coef_, index=X.columns)</code>
            <code>params</code>
            <br>
            <code>from sklearn.utils import resample</code>
            <code>np.random.seed(1)</code>
            <code>err = np.std([model.fit(*resample(X, y)).coef_</code>
            <code>              for i in range(1000)], 0)</code>
            <br>
            <code>print(pd.DataFrame({'effect': params.round(0),</code>
            <code>                    'error': err.round(0)}))</code>
            </pre>
        </div>

        <style>
        #scroll_code {
            overflow-y: scroll;
            width:100%;
            height: 100%;
            object-fit: contain;
        }
        #scroll_code pre {
                height: auto;
                height: 100%;
                overflow-y: scroll;
            }‚Äã
        </style>
    </section>

    <section class="slide vista">
        
        <div id="scroll_code">
            <div>
            <pre class="vista" style="font-size: 60%">
            <br>
            <code><span style='color: rgb(158,238,202)'>import matplotlib.pyplot as plt</span></code>
            <code><span style='color: rgb(73,234,190)'>import seaborn as sns; sns.set()</span></code>
            <code><span style='color: rgb(227,89,156)'>import numpy as np</span></code>
            <br>
            <code><span style='color: rgb(220,101,142)'>rng = np.random.RandomState(1)</span></code>
            <code><span style='color: rgb(197,168,93)'>x = 10 * rng.rand(50)</span></code>
            <code><span style='color: rgb(207,178,82)'>y = 2 * x - 5 + rng.randn(50)</span></code>
            <code><span style='color: rgb(198,216,129)'>plt.scatter(x, y);</span></code>
            <br>
            <code><span style='color: rgb(3,184,121)'>from sklearn.linear_model import LinearRegression</span></code>
            <code><span style='color: rgb(61,203,52)'>model = LinearRegression(fit_intercept=True)</span></code>
            <br>
            <code><span style='color: rgb(157,152,104)'>model.fit(x[:, np.newaxis], y)</span></code>
            <br>
            <code><span style='color: rgb(213,105,194)'>xfit = np.linspace(0, 10, 1000)</span></code>
            <code><span style='color: rgb(140,140,118)'>yfit = model.predict(xfit[:, np.newaxis])</span></code>
            <br>
            <code><span style='color: rgb(197,217,132)'>plt.scatter(x, y)</span></code>
            <code><span style='color: rgb(174,211,247)'>plt.plot(xfit, yfit);</span></code>
            <br>
            <code><span style='color: rgb(75,219,15)'>print("Model slope:    ", model.coef_[0])</span></code>
            <code><span style='color: rgb(76,219,16)'>print("Model intercept:", model.intercept_)</span></code>
            <br>
            <code><span style='color: rgb(224,101,141)'>rng = np.random.RandomState(1)</span></code>
            <code><span style='color: rgb(160,118,88)'>X = 10 * rng.rand(100, 3)</span></code>
            <code><span style='color: rgb(185,127,100)'>y = 0.5 + np.dot(X, [1.5, -2., 1.])</span></code>
            <br>
            <code><span style='color: rgb(135,160,89)'>model.fit(X, y)</span></code>
            <code><span style='color: rgb(76,222,13)'>print(model.intercept_)</span></code>
            <code><span style='color: rgb(79,213,30)'>print(model.coef_)</span></code>
            <br>
            <code><span style='color: rgb(59,247,198)'>from sklearn.preprocessing import PolynomialFeatures</span></code>
            <code><span style='color: rgb(207,136,128)'>x = np.array([2, 3, 4])</span></code>
            <code><span style='color: rgb(110,222,184)'>poly = PolynomialFeatures(3, include_bias=False)</span></code>
            <code><span style='color: rgb(187,201,107)'>poly.fit_transform(x[:, None])</span></code>
            <br>
            <code><span style='color: rgb(59,224,127)'>from sklearn.pipeline import make_pipeline</span></code>
            <code><span style='color: rgb(103,187,160)'>poly_model = make_pipeline(PolynomialFeatures(7),</span></code>
            <code><span style='color: rgb(17,182,110)'>                           LinearRegression())</span></code>
            <br>
            <code><span style='color: rgb(222,101,138)'>rng = np.random.RandomState(1)</span></code>
            <code><span style='color: rgb(197,168,92)'>x = 10 * rng.rand(50)</span></code>
            <code><span style='color: rgb(215,147,98)'>y = np.sin(x) + 0.1 * rng.randn(50)</span></code>
            <br>
            <code><span style='color: rgb(210,150,101)'>poly_model.fit(x[:, np.newaxis], y)</span></code>
            <code><span style='color: rgb(215,114,197)'>yfit = poly_model.predict(xfit[:, np.newaxis])</span></code>
            <br>
            <code><span style='color: rgb(194,212,137)'>plt.scatter(x, y)</span></code>
            <code><span style='color: rgb(177,215,255)'>plt.plot(xfit, yfit);</span></code>
            <br>
            <code><span style='color: rgb(41,185,134)'>from sklearn.base import BaseEstimator, TransformerMixin</span></code>
            <br>
            <code><span style='color: rgb(19,236,112)'>class GaussianFeatures(BaseEstimator, TransformerMixin):</span></code>
            <code>    """Uniformly spaced Gaussian features for one-dimensional input"""</code>
            <br>
            <code><span style='color: rgb(153,15,7)'>    def __init__(self, N, width_factor=2.0):</span></code>
            <code><span style='color: rgb(151,25,29)'>        self.N = N</span></code>
            <code><span style='color: rgb(151,25,26)'>        self.width_factor = width_factor</span></code>
            <br>
            <code><span style='color: rgb(155,72,87)'>    @staticmethod</span></code>
            <code><span style='color: rgb(202,175,95)'>    def _gauss_basis(x, y, width, axis=None):</span></code>
            <code><span style='color: rgb(210,190,81)'>        arg = (x - y) / width</span></code>
            <code><span style='color: rgb(206,87,174)'>        return np.exp(-0.5 * np.sum(arg ** 2, axis))</span></code>
            <br>
            <code><span style='color: rgb(177,127,59)'>    def fit(self, X, y=None):</span></code>
            <br>
            <code><span style='color: rgb(182,61,55)'>        self.centers_ = np.linspace(X.min(), X.max(), self.N)</span></code>
            <code><span style='color: rgb(164,11,0)'>        self.width_ = self.width_factor * (self.centers_[1] - self.centers_[0])</span></code>
            <code><span style='color: rgb(148,32,36)'>        return self</span></code>
            <br>
            <code><span style='color: rgb(151,45,27)'>    def transform(self, X):</span></code>
            <code><span style='color: rgb(195,65,57)'>        return self._gauss_basis(X[:, :, np.newaxis], self.centers_,</span></code>
            <code><span style='color: rgb(154,24,8)'>                                 self.width_, axis=1)</span></code>
            <br>
            <code><span style='color: rgb(98,171,141)'>gauss_model = make_pipeline(GaussianFeatures(20),</span></code>
            <code><span style='color: rgb(12,183,102)'>                            LinearRegression())</span></code>
            <code><span style='color: rgb(213,149,100)'>gauss_model.fit(x[:, np.newaxis], y)</span></code>
            <code><span style='color: rgb(219,113,203)'>yfit = gauss_model.predict(xfit[:, np.newaxis])</span></code>
            <br>
            <code><span style='color: rgb(198,217,129)'>plt.scatter(x, y)</span></code>
            <code><span style='color: rgb(178,213,254)'>plt.plot(xfit, yfit)</span></code>
            <code><span style='color: rgb(160,244,211)'>plt.xlim(0, 10);</span></code>
            <code><span style='color: rgb(74,233,40)'>model = make_pipeline(GaussianFeatures(30),</span></code>
            <code><span style='color: rgb(15,181,106)'>                      LinearRegression())</span></code>
            <code><span style='color: rgb(157,151,104)'>model.fit(x[:, np.newaxis], y)</span></code>
            <br>
            <code><span style='color: rgb(198,217,129)'>plt.scatter(x, y)</span></code>
            <code><span style='color: rgb(141,148,127)'>plt.plot(xfit, model.predict(xfit[:, np.newaxis]))</span></code>
            <br>
            <code><span style='color: rgb(165,251,225)'>plt.xlim(0, 10)</span></code>
            <code><span style='color: rgb(158,227,197)'>plt.ylim(-1.5, 1.5);</span></code>
            <br>
            <code><span style='color: rgb(87,222,55)'>def basis_plot(model, title=None):</span></code>
            <code><span style='color: rgb(144,255,207)'>    fig, ax = plt.subplots(2, sharex=True)</span></code>
            <code><span style='color: rgb(158,152,103)'>    model.fit(x[:, np.newaxis], y)</span></code>
            <code><span style='color: rgb(180,208,112)'>    ax[0].scatter(x, y)</span></code>
            <code><span style='color: rgb(136,144,126)'>    ax[0].plot(xfit, model.predict(xfit[:, np.newaxis]))</span></code>
            <code><span style='color: rgb(100,251,186)'>    ax[0].set(xlabel='x', ylabel='y', ylim=(-1.5, 1.5))</span></code>
            <br>
            <code><span style='color: rgb(85,215,135)'>    if title:</span></code>
            <code><span style='color: rgb(101,251,175)'>        ax[0].set_title(title)</span></code>
            <br>
            <code><span style='color: rgb(107,151,115)'>    ax[1].plot(model.steps[0][1].centers_,</span></code>
            <code><span style='color: rgb(84,223,23)'>               model.steps[1][1].coef_)</span></code>
            <code><span style='color: rgb(102,251,187)'>    ax[1].set(xlabel='basis location',</span></code>
            <code>              ylabel='coefficient',</code>
            <code>              xlim=(0, 10))</code>
            <br>
            <code><span style='color: rgb(58,217,56)'>model = make_pipeline(GaussianFeatures(30), LinearRegression())</span></code>
            <code><span style='color: rgb(85,222,33)'>basis_plot(model)</span></code>
            <br>
            <code><span style='color: rgb(21,179,129)'>from sklearn.linear_model import Ridge</span></code>
            <code><span style='color: rgb(70,221,60)'>model = make_pipeline(GaussianFeatures(30), Ridge(alpha=0.1))</span></code>
            <code><span style='color: rgb(85,225,27)'>basis_plot(model, title='Ridge Regression')</span></code>
            <br>
            <code><span style='color: rgb(19,179,125)'>from sklearn.linear_model import Lasso</span></code>
            <code><span style='color: rgb(69,221,60)'>model = make_pipeline(GaussianFeatures(30), Lasso(alpha=0.001))</span></code>
            <code><span style='color: rgb(85,227,22)'>basis_plot(model, title='Lasso Regression')</span></code>
            <br>
            <code><span style='color: rgb(33,83,67)'>import pandas as pd</span></code>
            <code><span style='color: rgb(35,78,74)'>counts = pd.read_csv('FremontBridge.csv', index_col='Date', parse_dates=True)</span></code>
            <code><span style='color: rgb(11,76,46)'>weather = pd.read_csv('data/BicycleWeather.csv', index_col='DATE', parse_dates=True)</span></code>
            <br>
            <code><span style='color: rgb(83,61,174)'>daily = counts.resample('d').sum()</span></code>
            <code><span style='color: rgb(75,51,199)'>daily['Total'] = daily.sum(axis=1)</span></code>
            <code><span style='color: rgb(47,52,223)'>daily = daily[['Total']]</span></code>
            <br>
            <code><span style='color: rgb(132,36,168)'>days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']</span></code>
            <code><span style='color: rgb(122,37,168)'>for i in range(7):</span></code>
            <code><span style='color: rgb(83,36,187)'>    daily[days[i]] = (daily.index.dayofweek == i).astype(float)</span></code>
            <br>
            <code><span style='color: rgb(9,174,205)'>from pandas.tseries.holiday import USFederalHolidayCalendar</span></code>
            <code><span style='color: rgb(5,166,210)'>cal = USFederalHolidayCalendar()</span></code>
            <code><span style='color: rgb(0,133,207)'>holidays = cal.holidays('2012', '2016')</span></code>
            <code><span style='color: rgb(36,68,187)'>daily = daily.join(pd.Series(1, index=holidays, name='holiday'))</span></code>
            <code><span style='color: rgb(56,59,208)'>daily['holiday'].fillna(0, inplace=True)</span></code>
            <br>
            <code><span style='color: rgb(148,89,156)'>def hours_of_daylight(date, axis=23.44, latitude=47.61):</span></code>
            <code>    """Compute the hours of daylight for the given date"""</code>
            <code><span style='color: rgb(98,65,124)'>    days = (date - pd.datetime(2000, 12, 21)).days</span></code>
            <code><span style='color: rgb(247,83,166)'>    m = (1. - np.tan(np.radians(latitude))</span></code>
            <code><span style='color: rgb(226,69,191)'>         * np.tan(np.radians(axis) * np.cos(days * 2 * np.pi / 365.25)))</span></code>
            <code><span style='color: rgb(255,87,157)'>    return 24. * np.degrees(np.arccos(1 - np.clip(m, 0, 2))) / 180.</span></code>
            <br>
            <code><span style='color: rgb(60,48,215)'>daily['daylight_hrs'] = list(map(hours_of_daylight, daily.index))</span></code>
            <code><span style='color: rgb(75,93,229)'>daily[['daylight_hrs']].plot()</span></code>
            <code><span style='color: rgb(164,250,222)'>plt.ylim(8, 17)</span></code>
            <br>
            <code><span style='color: rgb(9,77,39)'>weather['TMIN'] /= 10</span></code>
            <code><span style='color: rgb(14,78,43)'>weather['TMAX'] /= 10</span></code>
            <code><span style='color: rgb(0,72,36)'>weather['Temp (C)'] = 0.5 * (weather['TMIN'] + weather['TMAX'])</span></code>
            <br>
            <code><span style='color: rgb(8,78,39)'>weather['PRCP'] /= 254</span></code>
            <code><span style='color: rgb(9,65,43)'>weather['dry day'] = (weather['PRCP'] == 0).astype(int)</span></code>
            <br>
            <code><span style='color: rgb(34,55,156)'>daily = daily.join(weather[['PRCP', 'Temp (C)', 'dry day']])</span></code>
            <code><span style='color: rgb(76,31,220)'>daily['annual'] = (daily.index - daily.index[0]).days / 365.</span></code>
            <code><span style='color: rgb(54,61,212)'>daily.head()</span></code>
            <code><span style='color: rgb(54,58,219)'>daily.dropna(axis=0, how='any', inplace=True)</span></code>
            <br>
            <code><span style='color: rgb(93,68,124)'>column_names = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun', 'holiday',</span></code>
            <code>                'daylight_hrs', 'PRCP', 'dry day', 'Temp (C)', 'annual']</code>
            <code><span style='color: rgb(99,74,125)'>X = daily[column_names]</span></code>
            <code><span style='color: rgb(116,119,134)'>y = daily['Total']</span></code>
            <br>
            <code><span style='color: rgb(62,202,54)'>model = LinearRegression(fit_intercept=False)</span></code>
            <code><span style='color: rgb(136,161,87)'>model.fit(X, y)</span></code>
            <code><span style='color: rgb(99,122,122)'>daily['predicted'] = model.predict(X)</span></code>
            <br>
            <code><span style='color: rgb(77,95,219)'>daily[['Total', 'predicted']].plot(alpha=0.5);</span></code>
            <br>
            <code><span style='color: rgb(91,136,100)'>params = pd.Series(model.coef_, index=X.columns)</span></code>
            <code><span style='color: rgb(29,130,61)'>params</span></code>
            <br>
            <code><span style='color: rgb(107,78,137)'>from sklearn.utils import resample</span></code>
            <code><span style='color: rgb(221,89,158)'>np.random.seed(1)</span></code>
            <code><span style='color: rgb(138,137,111)'>err = np.std([model.fit(*resample(X, y)).coef_</span></code>
            <code><span style='color: rgb(134,0,195)'>              for i in range(1000)], 0)</span></code>
            <br>
            <code><span style='color: rgb(36,120,60)'>print(pd.DataFrame({'effect': params.round(0),</span></code>
            <code><span style='color: rgb(52,127,38)'>                    'error': err.round(0)}))</span></code>
            </pre>
        </div>
        <div id="scroll_code">
        </style>
    </section>

    <section class="slide">
        <h2>TL; DR</h2>
        <ul>
            <li>–í–∑—è—Ç—å –∑–∞–¥–∞—á—É</li>
            <li>–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É —Å–ª–æ–≤–æ-–∫–æ–Ω—Ç–µ–∫—Å—Ç</li>
            <li>–ó–∞–ø—É—Å—Ç–∏—Ç—å Swivel</li>
            <li>???</li>
            <li>PROFIT!</li>
        </ul>
        <div class="vista" id="qrcode"></div>
        <style>
            #qrcode {
                width: 350px;
                height: 350px;
                position: absolute;
                left: 550px;
                top: 150px;
            }
            }
        </style>
    </section>

	<section class="slide">
        <h2>–ö–æ–Ω–µ—Ü</h2>
        <ul class="no-bullets fa-bullets">
            <li><i class="fa fa-envelope monofa" aria-hidden="true"></i><a href="mailto://konstantin@sourced.tech">konstantin@sourced.tech</a></li>
            <li><i class="fa fa-twitter monofa" aria-hidden="true"></i><a href="https://twitter.com/kslavnov">kslavnov</a></li>
            <li><i class="fa fa-github monofa" aria-hidden="true"></i><a href="https://github.com/zurk">zurk</a></li>
            <li><i class="fa fa-rss monofa" aria-hidden="true"></i><a href="https://blog.sourced.tech">blog.sourced.tech</a></li>
            <li><i class="fa fa-trophy monofa" aria-hidden="true"></i><a href="https://github.com/src-d/awesome-machine-learning-on-source-code">Awesome #MLonCode</a></li>
        </ul>
        –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è: <br><a href="https://zurk.github.io/moscow-python-06-2018">zurk.github.io/moscow-python-06-2018</a>
    </section>

    <section class="slide">
        <h2>–ú–∞—Ç—Ä–∏—á–Ω–∞—è —Ñ–∞–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
        <img src="pictures/explicit_mat_fact_white.png" id="matrix_factorization">
        <style>
            #matrix_factorization {
                height: 300px;
                object-fit: contain;
            }
        </style>
    </section>

	<div class="progress"></div>

	<script src="shower/shower.min.js"></script>
    <script async src="https://use.fontawesome.com/72adc0539b.js"></script>
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML"></script>
	<script>
    function fullscreen() {
        if (!document.fullscreenElement && !document.mozFullScreenElement &&
			!document.webkitFullscreenElement) {
            var body = document.getElementsByTagName("html")[0];
            if (body.requestFullscreen) {
                body.requestFullscreen();
            } else if (body.mozRequestFullScreen) {
                body.mozRequestFullScreen();
            } else if (body.webkitRequestFullScreen) {
                body.webkitRequestFullScreen();
            }
            document.getElementById("fullscreen").title = "Return";
        } else {
            if (document.cancelFullScreen) {
                document.cancelFullScreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.webkitCancelFullScreen) {
                document.webkitCancelFullScreen();
            }
            document.getElementById("fullscreen").title = "Go fullscreen";
        }
    }
    </script>
</body>
</html>
